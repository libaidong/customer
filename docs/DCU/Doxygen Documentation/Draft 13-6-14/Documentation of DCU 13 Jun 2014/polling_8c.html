<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SiteSync Stage-1: src/polling.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SiteSync Stage-1
   &#160;<span id="projectnumber">VER 1.0</span>
   </div>
   <div id="projectbrief">SiteSync</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('polling_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">polling.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides set of API's to device polling over MB TCP or RS485 and Serial i.e for Adam protocol. Provides execute to perform application device polling over modbus TCP or RS485 and serial i.e for Adam protocol.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;strings.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="ethernet__app_8h_source.html">ethernet_app.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ethernet_8h_source.html">ethernet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="interface_8h_source.html">interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="modbus_8h_source.html">modbus.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="storage__pool_8h_source.html">storage_pool.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="bms_8h_source.html">bms.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="device_8h_source.html">device.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="serial_8h_source.html">serial.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="write__list_8h_source.html">write_list.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="serial__app_8h_source.html">serial_app.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="adam_8h_source.html">adam.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="schedule_8h_source.html">schedule.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="list_8h_source.html">list.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="events_8h_source.html">events.h</a>&quot;</code><br/>
</div>
<p><a href="polling_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa3a0857df3fbd21c4f65c7a0f45b2f6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#aa3a0857df3fbd21c4f65c7a0f45b2f6d">MAX_TIMER_TO_WAIT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa3a0857df3fbd21c4f65c7a0f45b2f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c706448badbacd0fe45819fda19f3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a76c706448badbacd0fe45819fda19f3b">MAX_TIMER_TO_WAIT_FOR_SERIAL_RESP</a>&#160;&#160;&#160;500</td></tr>
<tr class="separator:a76c706448badbacd0fe45819fda19f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455bca6377a3bb994f4cdc7c2e38a8ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a455bca6377a3bb994f4cdc7c2e38a8ff">RESPONSE_TYPE_READ</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a455bca6377a3bb994f4cdc7c2e38a8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f07b18571f8aeb50892a023155539a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#ac5f07b18571f8aeb50892a023155539a">RESPONSE_TYPE_WRITE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ac5f07b18571f8aeb50892a023155539a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a817f345ccbe4c66eeb759db2c548c43b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a817f345ccbe4c66eeb759db2c548c43b">SetPollingInfoPtr</a> (<a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> *RefPtr)</td></tr>
<tr class="memdesc:a817f345ccbe4c66eeb759db2c548c43b"><td class="mdescLeft">&#160;</td><td class="mdescRight">API will update polling reference for all devices present in IO configuration and Meter configuration.  <a href="#a817f345ccbe4c66eeb759db2c548c43b">More...</a><br/></td></tr>
<tr class="separator:a817f345ccbe4c66eeb759db2c548c43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12545d950902e14507466f1aade0987"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#ab12545d950902e14507466f1aade0987">GetPollingInfoPtr</a> (<a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> **RefPtr)</td></tr>
<tr class="memdesc:ab12545d950902e14507466f1aade0987"><td class="mdescLeft">&#160;</td><td class="mdescRight">API will update polling reference for all devices present in IO configuration and Meter configuration.  <a href="#ab12545d950902e14507466f1aade0987">More...</a><br/></td></tr>
<tr class="separator:ab12545d950902e14507466f1aade0987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af360e4a466c72418a04cfba7b5aeec70"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#af360e4a466c72418a04cfba7b5aeec70">GetPollingInfoEntry</a> (int Index, <a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> *PollInfo)</td></tr>
<tr class="memdesc:af360e4a466c72418a04cfba7b5aeec70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function is used to get the polling information based on the meter index.  <a href="#af360e4a466c72418a04cfba7b5aeec70">More...</a><br/></td></tr>
<tr class="separator:af360e4a466c72418a04cfba7b5aeec70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d48f3a888973759809dddf182ad7dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a88d48f3a888973759809dddf182ad7dd">ChangeExecutionState</a> (unsigned char Media, unsigned char *DeviceState, unsigned char ActionToBePerform)</td></tr>
<tr class="memdesc:a88d48f3a888973759809dddf182ad7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function is used to set state of state machine based on the media type. Set state of ETH or SERIAL state machine.  <a href="#a88d48f3a888973759809dddf182ad7dd">More...</a><br/></td></tr>
<tr class="separator:a88d48f3a888973759809dddf182ad7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b8fb03bd03bc35040438045eeac994"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a92b8fb03bd03bc35040438045eeac994">FillWriteReq</a> (unsigned char WriteListIndex, unsigned short WriteListRecordIndex)</td></tr>
<tr class="memdesc:a92b8fb03bd03bc35040438045eeac994"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to fill the request for write status for devices.  <a href="#a92b8fb03bd03bc35040438045eeac994">More...</a><br/></td></tr>
<tr class="separator:a92b8fb03bd03bc35040438045eeac994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca90aa2f59e6072217f0153eea1a8548"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#aca90aa2f59e6072217f0153eea1a8548">CallBackETHPolling</a> (unsigned char Event, void *CurrentConn, unsigned char *EventInfo, unsigned int EventInfoLength)</td></tr>
<tr class="memdesc:aca90aa2f59e6072217f0153eea1a8548"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is callback for all the events on modbus TCP socket for data polling from meters.  <a href="#aca90aa2f59e6072217f0153eea1a8548">More...</a><br/></td></tr>
<tr class="separator:aca90aa2f59e6072217f0153eea1a8548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7893c5ad735deebd4e60af15a9766a9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a7893c5ad735deebd4e60af15a9766a9b">CallBackSerialPolling</a> (unsigned char Event, void *CurrentConn, unsigned char *EventInfo, unsigned int EventInfoLength)</td></tr>
<tr class="memdesc:a7893c5ad735deebd4e60af15a9766a9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is callback for all the events on modbus TCP socket for data polling from meters.  <a href="#a7893c5ad735deebd4e60af15a9766a9b">More...</a><br/></td></tr>
<tr class="separator:a7893c5ad735deebd4e60af15a9766a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d4baa88efc4dc5a55fc6d866ac08df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a99d4baa88efc4dc5a55fc6d866ac08df">InitPolling</a> (void)</td></tr>
<tr class="memdesc:a99d4baa88efc4dc5a55fc6d866ac08df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the thread and buffer for data polling. It creates a seperate thread for polling.  <a href="#a99d4baa88efc4dc5a55fc6d866ac08df">More...</a><br/></td></tr>
<tr class="separator:a99d4baa88efc4dc5a55fc6d866ac08df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c90a1d8f3b8a628d4098a5759ec8701"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="polling_8c.html#a3c90a1d8f3b8a628d4098a5759ec8701">PrintStoragePoolAddr</a> (void)</td></tr>
<tr class="memdesc:a3c90a1d8f3b8a628d4098a5759ec8701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print all storage pool address of all configured devices.  <a href="#a3c90a1d8f3b8a628d4098a5759ec8701">More...</a><br/></td></tr>
<tr class="separator:a3c90a1d8f3b8a628d4098a5759ec8701"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides set of API's to device polling over MB TCP or RS485 and Serial i.e for Adam protocol. Provides execute to perform application device polling over modbus TCP or RS485 and serial i.e for Adam protocol. </p>

<p>Definition in file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa3a0857df3fbd21c4f65c7a0f45b2f6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TIMER_TO_WAIT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max timer to wait for retry at the time of meter polling in Secs. </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00026">26</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a76c706448badbacd0fe45819fda19f3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TIMER_TO_WAIT_FOR_SERIAL_RESP&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max timer to wait for retry at the time of meter polling in msecs. </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00027">27</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a455bca6377a3bb994f4cdc7c2e38a8ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESPONSE_TYPE_READ&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When read response is received </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00029">29</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac5f07b18571f8aeb50892a023155539a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESPONSE_TYPE_WRITE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When write response is received </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00030">30</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aca90aa2f59e6072217f0153eea1a8548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CallBackETHPolling </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>Event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>CurrentConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>EventInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>EventInfoLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It is callback for all the events on modbus TCP socket for data polling from meters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>Specifies which event has occured. </td></tr>
    <tr><td class="paramname">CurrentConn</td><td>Specifies reference of connection used for Eth polling. </td></tr>
    <tr><td class="paramname">EventInfo</td><td>Specifies additional information regarding events. The value varies as per the event. </td></tr>
    <tr><td class="paramname">EventInfoLength</td><td>Specifies number of bytes of event information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 always. No use as of now. </dd></dl>
<p>&lt; Communication info for modbus TCP.</p>
<p>&lt; Temp data buffer for the received data storage over modbus TCP.</p>
<p>&lt; Byte count of the received data over modbus TCP.</p>
<p>&lt; Connection inforamtion used for the modbus TCP.</p>
<p>&lt; Meter info has to be updated based on stored meter index in connection information. </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00489">489</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7893c5ad735deebd4e60af15a9766a9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CallBackSerialPolling </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>Event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>CurrentConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>EventInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>EventInfoLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It is callback for all the events on modbus TCP socket for data polling from meters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>Specifies which event has occured. </td></tr>
    <tr><td class="paramname">CurrentConn</td><td>Specifies reference of connection used for serial polling. </td></tr>
    <tr><td class="paramname">EventInfo</td><td>Specifies additional information regarding events. The value varies as per the event. </td></tr>
    <tr><td class="paramname">EventInfoLength</td><td>Specifies number of bytes of event information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 always. No use as of now. </dd></dl>
<p>&lt; Communication info for modbus TCP.</p>
<p>&lt; Temp data buffer for the received data storage over modbus TCP.</p>
<p>&lt; Byte count of the received data over modbus TCP.</p>
<p>&lt; Temp serial poll information to update the serial poll info state based on event.</p>
<p>&lt; Connection inforamtion used for the modbus TCP</p>
<p>&lt; Response type is the variable to distinguish what type of response is received at serial, whether it is read response or write response. </p>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00622">622</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a88d48f3a888973759809dddf182ad7dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChangeExecutionState </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>Media</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>DeviceState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ActionToBePerform</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function is used to set state of state machine based on the media type. Set state of ETH or SERIAL state machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Media</td><td>Specifies interface on which device is present. It can be ETH or SERIAL. </td></tr>
    <tr><td class="paramname">DeviceState</td><td>Specifies state to be change of respective state machine. </td></tr>
    <tr><td class="paramname">ActionToBePerform</td><td>Specifies State to be set based on this flag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns Nothing </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00090">90</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a92b8fb03bd03bc35040438045eeac994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FillWriteReq </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>WriteListIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>WriteListRecordIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to fill the request for write status for devices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">WriteListIndex</td><td>is the index of write list. </td></tr>
    <tr><td class="paramname">WriteListRecordIndex</td><td>Record index of erite list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns iterator at which the record is saved for removing purpose otherwise some negative value. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00383">383</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="af360e4a466c72418a04cfba7b5aeec70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char GetPollingInfoEntry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> *&#160;</td>
          <td class="paramname"><em>PollInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function is used to get the polling information based on the meter index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Index</td><td>Specifies reference index of the polling, details of which is required. </td></tr>
    <tr><td class="paramname">PollInfo</td><td>Specifies pointer to the reference, details of which is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if the record in found else -1. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00068">68</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab12545d950902e14507466f1aade0987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetPollingInfoPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> **&#160;</td>
          <td class="paramname"><em>RefPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API will update polling reference for all devices present in IO configuration and Meter configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefPtr</td><td>Specifies allocated reference of polling for Meter and IO.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00055">55</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a99d4baa88efc4dc5a55fc6d866ac08df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitPolling </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the thread and buffer for data polling. It creates a seperate thread for polling. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l01481">1481</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3c90a1d8f3b8a628d4098a5759ec8701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrintStoragePoolAddr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print all storage pool address of all configured devices. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l01565">1565</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
<a class="anchor" id="a817f345ccbe4c66eeb759db2c548c43b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetPollingInfoPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_o_l_l_i_n_g___i_n_f_o.html">POLLING_INFO</a> *&#160;</td>
          <td class="paramname"><em>RefPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API will update polling reference for all devices present in IO configuration and Meter configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefPtr</td><td>Specifies allocated reference of polling for Meter and IO.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing. </dd></dl>

<p>Definition at line <a class="el" href="polling_8c_source.html#l00043">43</a> of file <a class="el" href="polling_8c_source.html">polling.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="polling_8c.html">polling.c</a></li>
    <li class="footer">Generated on Thu Jun 12 2014 20:35:59 for SiteSync Stage-1 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
