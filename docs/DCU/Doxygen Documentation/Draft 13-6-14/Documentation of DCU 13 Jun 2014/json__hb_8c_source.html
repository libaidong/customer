<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SiteSync Stage-1: src/json_hb.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SiteSync Stage-1
   &#160;<span id="projectnumber">VER 1.0</span>
   </div>
   <div id="projectbrief">SiteSync</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('json__hb_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">json_hb.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="json__hb_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">common.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json__hb_8h.html">json_hb.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="json__hb_8c.html#abaef88b561a0142ef1fc51aceae08ba6">    7</a></span>&#160;<span class="preprocessor">#define MAX_HB_LVL1_KEYS    5   </span></div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="json__hb_8c.html#ac61dafe790074a34935b47f95c0474cf">    8</a></span>&#160;<span class="preprocessor">#define MAX_HB_LVL2_KEYS    3   </span></div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="json__hb_8c.html#a730652ce3ef07d9695f07c34da4817ca">    9</a></span>&#160;<span class="preprocessor">#define MAX_HB_LVL3_KEYS    7   </span></div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="json__hb_8c.html#aa242a3450a0b8c7b986db1dad34bd685">   12</a></span>&#160;<span class="preprocessor">KEY_VALOFFSET HBLvl3KeyValues[MAX_HB_LVL3_KEYS] = </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor"></span>{</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    {<span class="stringliteral">&quot;deviceId&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, DevId)), -1, 0},</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    {<span class="stringliteral">&quot;title&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, DevTitle)), -1, 0},</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    {<span class="stringliteral">&quot;data&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, DevData)), -1, 0},</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    {<span class="stringliteral">&quot;state&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, DevState)), -1, 0},</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    {<span class="stringliteral">&quot;interval&quot;</span>,  (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, DevPollInterval)), -1, 0},</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    {<span class="stringliteral">&quot;action&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, Action)), -1, 0},</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    {<span class="stringliteral">&quot;fileName&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, FileName)), -1, 0},</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;};</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="json__hb_8c.html#a0280753d5fb80c7fe62d675f22837808">   24</a></span>&#160;<a class="code" href="struct_k_e_y___v_a_l_o_f_f_s_e_t.html">KEY_VALOFFSET</a> <a class="code" href="json__hb_8c.html#a0280753d5fb80c7fe62d675f22837808">HBLvl2KeyValues</a>[<a class="code" href="json__hb_8c.html#ac61dafe790074a34935b47f95c0474cf">MAX_HB_LVL2_KEYS</a>] = </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    {<span class="stringliteral">&quot;method&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, MethodTypeIdx)), -1, 0},</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    {<span class="stringliteral">&quot;parameters&quot;</span>, 0xFFFF, 2, 0},</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    {<span class="stringliteral">&quot;replyUrl&quot;</span>, (offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethods) + offsetof(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>, ReplyUrl)), -1, 0},</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;};</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="json__hb_8c.html#afcb25928ff95e5c47efe5dca2ee40f4d">   32</a></span>&#160;<a class="code" href="struct_k_e_y___v_a_l_o_f_f_s_e_t.html">KEY_VALOFFSET</a> <a class="code" href="json__hb_8c.html#afcb25928ff95e5c47efe5dca2ee40f4d">HBLvl1KeyValues</a>[<a class="code" href="json__hb_8c.html#abaef88b561a0142ef1fc51aceae08ba6">MAX_HB_LVL1_KEYS</a>] = </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    {<span class="stringliteral">&quot;transactionId&quot;</span>, offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, TransactionId), -1, 0},</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    {<span class="stringliteral">&quot;serverTime&quot;</span>, offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, ScsTime), -1, 0},</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {<span class="stringliteral">&quot;SCSTime&quot;</span>, offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, ScsTime), -1, 0},</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {<span class="stringliteral">&quot;scheduleHash&quot;</span>, offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, ScheduleHash), -1, 0},</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    {<span class="stringliteral">&quot;methods&quot;</span>, offsetof(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>, HBMethodsCnt), 1, <span class="keyword">sizeof</span>(<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a>)},</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;};</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="json__hb_8c.html#ab1996c09d753335d27ae94f4ccb7a74e">   42</a></span>&#160;<a class="code" href="struct_i_n_f_o___s_t_r_u_c_t.html">INFO_STRUCT</a> <a class="code" href="json__hb_8c.html#ab1996c09d753335d27ae94f4ccb7a74e">HBInfoStruct</a>[3] = </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    {<a class="code" href="json__hb_8c.html#afcb25928ff95e5c47efe5dca2ee40f4d">HBLvl1KeyValues</a>, <a class="code" href="json__hb_8c.html#abaef88b561a0142ef1fc51aceae08ba6">MAX_HB_LVL1_KEYS</a>},</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    {<a class="code" href="json__hb_8c.html#a0280753d5fb80c7fe62d675f22837808">HBLvl2KeyValues</a>, <a class="code" href="json__hb_8c.html#ac61dafe790074a34935b47f95c0474cf">MAX_HB_LVL2_KEYS</a>},</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {<a class="code" href="json__hb_8c.html#aa242a3450a0b8c7b986db1dad34bd685">HBLvl3KeyValues</a>, <a class="code" href="json__hb_8c.html#a730652ce3ef07d9695f07c34da4817ca">MAX_HB_LVL3_KEYS</a>},</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="json__hb_8c.html#a6b1f00d8b85501daf720aa5bc9bfe578">   57</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="json__hb_8c.html#a6b1f00d8b85501daf720aa5bc9bfe578">ParseHBPacket</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *String, <a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a> *HB)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">/* Clear the structure used for outparameter */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    memset(HB, <span class="charliteral">&#39;\0&#39;</span>, <span class="keyword">sizeof</span>(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">/* Call parse JSON packet function */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="json__parser_8h.html#a66351f3fdeca48feb189ccbe26c56118">ParseJsonString</a>(String, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)HB, HBInfoStruct);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">/* Print the response */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="json__hb_8c.html#a8c4c01e094bdb9a2a6de9031374b8751">PrintHBRespInfo</a>(HB);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">/* Return SUCCESS in case parsing is done */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor"></span><span class="keywordtype">int</span> <a class="code" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>()</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a> HB;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">//char *string =&quot;{\&quot;jsonrpc\&quot;: \&quot;2.0\&quot;,\r\n\&quot;transactionId\&quot;: \&quot;098f6bcd462\&quot;,\r\n\&quot;sCSTime\&quot;: 1386117060,\r\n\&quot;scheduleHash\&quot;: \&quot;098f6bcd4621d373cade4e832627b4f6\&quot;}&quot;;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">//char *string1 = &quot;{\&quot;methods\&quot;: [  { \&quot;method\&quot; : \&quot;getDevices\&quot;, \&quot;parameters\&quot; : \&quot;\&quot;} ] }&quot;;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">char</span> *string3 = <span class="stringliteral">&quot;{\&quot;transactionId\&quot;: \&quot;098f6bcd462\&quot;,\r\n\&quot;serverTime\&quot;: 1386117060,\r\n\&quot;scheduleHash\&quot;: \&quot;098f6bcd4621d373cade4e832627b4f6\&quot;,\r\n\&quot;methods\&quot;: [ \</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;sendToDevice\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device1\&quot;,\r\n \&quot;title\&quot;: \&quot;rom\&quot;,\r\n \&quot;data\&quot;: \&quot;sZSBiYXNlNjQgZW5jb2RpbmcK\&quot; } },\r\n\</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;setState\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device2\&quot;,\r\n \&quot;state\&quot;: \&quot;on\&quot; } },\r\n\</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;getState\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device3\&quot;,\r\n \&quot;data\&quot; : \&quot;DEV3 DATA\&quot; } },\r\n\</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;setPollFreq\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device4\&quot;,\r\n \&quot;interval\&quot; : 15} },\r\n\</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;getConsumption\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device5\&quot; } },\r\n\</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;configTransfer\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device6\&quot;,\r\n \&quot;action\&quot; : \&quot;upload\&quot;} },\r\n\</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="stringliteral">    { \&quot;method\&quot;: \&quot;getState\&quot;,\r\n \&quot;parameters\&quot;: { \&quot;deviceId\&quot; : \&quot;device7\&quot; } }\r\n\</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="stringliteral">            ] }&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    printf (<span class="stringliteral">&quot;JSON string: %s, %d, %d\n&quot;</span>, string3,  strlen(string3), <span class="keyword">sizeof</span>(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="json__hb_8c.html#a6b1f00d8b85501daf720aa5bc9bfe578">ParseHBPacket</a>(string3, &amp;HB);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="json__hb_8c.html#a8c4c01e094bdb9a2a6de9031374b8751">   99</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="json__hb_8c.html#a8c4c01e094bdb9a2a6de9031374b8751">PrintHBRespInfo</a>(<a class="code" href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a> *HB)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">int</span> Itr;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a> *HBM;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="common_8h.html#a378e28bfcb78d17285210d6bbb70a083">LOG_INFO</a>(<a class="code" href="common_8h.html#a94bc6e27d64d4e9e348b071e43e96df1">MAGNETA</a><span class="stringliteral">&quot;------------------------------------------------------------------------------------------\r\n&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="common_8h.html#a378e28bfcb78d17285210d6bbb70a083">LOG_INFO</a>(<span class="stringliteral">&quot;HB, TRID, %lu, ScsTime, %lu, SCHHash, %s, Cnt, %d\r\n&quot;</span>, HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#aaa1403fb601f8fd74c7166216b03b86f">TransactionId</a>, HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#a1fcaa448bf6bb5512a025342da173192">ScsTime</a>, HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#ae4208cae4976062401cb93ce98bf99dc">ScheduleHash</a>, HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#a7e4c4bbe9ef3342d45b02c156ffb52a4">HBMethodsCnt</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">for</span>(Itr = 0 ; Itr &lt; HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#a7e4c4bbe9ef3342d45b02c156ffb52a4">HBMethodsCnt</a> ; Itr++)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        HBM = &amp;HB-&gt;<a class="code" href="struct_h_b___s_t_r_u_c_t.html#a8d0816a3a1fb6df524de3bd004c55280">HBMethods</a>[Itr];</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="common_8h.html#a378e28bfcb78d17285210d6bbb70a083">LOG_INFO</a>(<span class="stringliteral">&quot;HBM, METHODID, %d, ID, %s, TITLE, %s, DATA, %s, St, %d, PI, %lu, ACT, %d\r\n&quot;</span>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#ae274db773be073c9d5756d28773583df">MethodTypeIdx</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#a49f939077d8aea7017a0a26b67be6dac">DevId</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#a9f0ec2a50dd879089940d1e5670ef57c">DevTitle</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#afb87a09f8309111cebfcaa65d48e09df">DevData</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#a728d3d669281357ee4e3844d00c95276">DevState</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#a7f4cbf3276997c8d81b4f18d190594e9">DevPollInterval</a>, HBM-&gt;<a class="code" href="struct_h_b___m_e_t_h_o_d_s.html#a2fa47dba5d4449955e6c7141c14e1805">Action</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="common_8h.html#a378e28bfcb78d17285210d6bbb70a083">LOG_INFO</a>(<span class="stringliteral">&quot;------------------------------------------------------------------------------------------\r\n&quot;</span><a class="code" href="common_8h.html#ad99d89815bdc61acfe8744c41c96e637">NOCOLOR</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_a49f939077d8aea7017a0a26b67be6dac"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#a49f939077d8aea7017a0a26b67be6dac">HB_METHODS::DevId</a></div><div class="ttdeci">unsigned char DevId[MAX_DEV_ID_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00040">json_hb.h:40</a></div></div>
<div class="ttc" id="struct_k_e_y___v_a_l_o_f_f_s_e_t_html"><div class="ttname"><a href="struct_k_e_y___v_a_l_o_f_f_s_e_t.html">KEY_VALOFFSET</a></div><div class="ttdoc">This structure is used by json parser to parse HB response. It contains key and the address to store ...</div><div class="ttdef"><b>Definition:</b> <a href="json__parser_8h_source.html#l00016">json_parser.h:16</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_a728d3d669281357ee4e3844d00c95276"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#a728d3d669281357ee4e3844d00c95276">HB_METHODS::DevState</a></div><div class="ttdeci">unsigned char DevState</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00043">json_hb.h:43</a></div></div>
<div class="ttc" id="main_8c_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdoc">First function to execute. It will read the configuration initialize necessary modules and wait for t...</div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00057">main.c:57</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_a7f4cbf3276997c8d81b4f18d190594e9"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#a7f4cbf3276997c8d81b4f18d190594e9">HB_METHODS::DevPollInterval</a></div><div class="ttdeci">unsigned long DevPollInterval</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00044">json_hb.h:44</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_ae274db773be073c9d5756d28773583df"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#ae274db773be073c9d5756d28773583df">HB_METHODS::MethodTypeIdx</a></div><div class="ttdeci">unsigned char MethodTypeIdx</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00039">json_hb.h:39</a></div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html_a7e4c4bbe9ef3342d45b02c156ffb52a4"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html#a7e4c4bbe9ef3342d45b02c156ffb52a4">HB_STRUCT::HBMethodsCnt</a></div><div class="ttdeci">unsigned char HBMethodsCnt</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00059">json_hb.h:59</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_a9f0ec2a50dd879089940d1e5670ef57c"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#a9f0ec2a50dd879089940d1e5670ef57c">HB_METHODS::DevTitle</a></div><div class="ttdeci">unsigned char DevTitle[MAX_DEV_TITLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00041">json_hb.h:41</a></div></div>
<div class="ttc" id="json__hb_8c_html_abaef88b561a0142ef1fc51aceae08ba6"><div class="ttname"><a href="json__hb_8c.html#abaef88b561a0142ef1fc51aceae08ba6">MAX_HB_LVL1_KEYS</a></div><div class="ttdeci">#define MAX_HB_LVL1_KEYS</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00007">json_hb.c:7</a></div></div>
<div class="ttc" id="json__hb_8c_html_a8c4c01e094bdb9a2a6de9031374b8751"><div class="ttname"><a href="json__hb_8c.html#a8c4c01e094bdb9a2a6de9031374b8751">PrintHBRespInfo</a></div><div class="ttdeci">void PrintHBRespInfo(HB_STRUCT *HB)</div><div class="ttdoc">This function is used to print parameters received in the heartbeat packet. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00099">json_hb.c:99</a></div></div>
<div class="ttc" id="common_8h_html_a94bc6e27d64d4e9e348b071e43e96df1"><div class="ttname"><a href="common_8h.html#a94bc6e27d64d4e9e348b071e43e96df1">MAGNETA</a></div><div class="ttdeci">#define MAGNETA</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00042">common.h:42</a></div></div>
<div class="ttc" id="struct_i_n_f_o___s_t_r_u_c_t_html"><div class="ttname"><a href="struct_i_n_f_o___s_t_r_u_c_t.html">INFO_STRUCT</a></div><div class="ttdoc">This structure is used by json parser to store the information related to key value and its length...</div><div class="ttdef"><b>Definition:</b> <a href="json__parser_8h_source.html#l00026">json_parser.h:26</a></div></div>
<div class="ttc" id="json__hb_8c_html_a0280753d5fb80c7fe62d675f22837808"><div class="ttname"><a href="json__hb_8c.html#a0280753d5fb80c7fe62d675f22837808">HBLvl2KeyValues</a></div><div class="ttdeci">KEY_VALOFFSET HBLvl2KeyValues[MAX_HB_LVL2_KEYS]</div><div class="ttdoc">To be used in the hierarchy while parsing. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00024">json_hb.c:24</a></div></div>
<div class="ttc" id="json__hb_8c_html_a730652ce3ef07d9695f07c34da4817ca"><div class="ttname"><a href="json__hb_8c.html#a730652ce3ef07d9695f07c34da4817ca">MAX_HB_LVL3_KEYS</a></div><div class="ttdeci">#define MAX_HB_LVL3_KEYS</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00009">json_hb.c:9</a></div></div>
<div class="ttc" id="json__hb_8c_html_ab1996c09d753335d27ae94f4ccb7a74e"><div class="ttname"><a href="json__hb_8c.html#ab1996c09d753335d27ae94f4ccb7a74e">HBInfoStruct</a></div><div class="ttdeci">INFO_STRUCT HBInfoStruct[3]</div><div class="ttdoc">To be used in the hierarchy while parsing. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00042">json_hb.c:42</a></div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html_a8d0816a3a1fb6df524de3bd004c55280"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html#a8d0816a3a1fb6df524de3bd004c55280">HB_STRUCT::HBMethods</a></div><div class="ttdeci">HB_METHODS HBMethods[MAX_METHODS_SUPPORTED]</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00058">json_hb.h:58</a></div></div>
<div class="ttc" id="common_8h_html_ad99d89815bdc61acfe8744c41c96e637"><div class="ttname"><a href="common_8h.html#ad99d89815bdc61acfe8744c41c96e637">NOCOLOR</a></div><div class="ttdeci">#define NOCOLOR</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00038">common.h:38</a></div></div>
<div class="ttc" id="json__hb_8c_html_afcb25928ff95e5c47efe5dca2ee40f4d"><div class="ttname"><a href="json__hb_8c.html#afcb25928ff95e5c47efe5dca2ee40f4d">HBLvl1KeyValues</a></div><div class="ttdeci">KEY_VALOFFSET HBLvl1KeyValues[MAX_HB_LVL1_KEYS]</div><div class="ttdoc">To be used in the hierarchy while parsing. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00032">json_hb.c:32</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_afb87a09f8309111cebfcaa65d48e09df"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#afb87a09f8309111cebfcaa65d48e09df">HB_METHODS::DevData</a></div><div class="ttdeci">unsigned char DevData[MAX_DEV_DATA_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00042">json_hb.h:42</a></div></div>
<div class="ttc" id="json__hb_8h_html"><div class="ttname"><a href="json__hb_8h.html">json_hb.h</a></div><div class="ttdoc">This file contains all the declarations of data structures used to handle response of heartbeat comma...</div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html_aaa1403fb601f8fd74c7166216b03b86f"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html#aaa1403fb601f8fd74c7166216b03b86f">HB_STRUCT::TransactionId</a></div><div class="ttdeci">unsigned long TransactionId</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00055">json_hb.h:55</a></div></div>
<div class="ttc" id="json__parser_8h_html_a66351f3fdeca48feb189ccbe26c56118"><div class="ttname"><a href="json__parser_8h.html#a66351f3fdeca48feb189ccbe26c56118">ParseJsonString</a></div><div class="ttdeci">int ParseJsonString(unsigned char *String, unsigned char *DataPtr, INFO_STRUCT *InfoStruct)</div><div class="ttdoc">This function is used to parse json string. All the packets received will be sent to this function to...</div><div class="ttdef"><b>Definition:</b> <a href="json__parser_8c_source.html#l00275">json_parser.c:275</a></div></div>
<div class="ttc" id="json__hb_8c_html_a6b1f00d8b85501daf720aa5bc9bfe578"><div class="ttname"><a href="json__hb_8c.html#a6b1f00d8b85501daf720aa5bc9bfe578">ParseHBPacket</a></div><div class="ttdeci">int ParseHBPacket(unsigned char *String, HB_STRUCT *HB)</div><div class="ttdoc">This function is used to parse heartbeat response received from the connected device. JSON parsing is done in this function. This function is specific to only hearbeat response. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00057">json_hb.c:57</a></div></div>
<div class="ttc" id="json__hb_8c_html_aa242a3450a0b8c7b986db1dad34bd685"><div class="ttname"><a href="json__hb_8c.html#aa242a3450a0b8c7b986db1dad34bd685">HBLvl3KeyValues</a></div><div class="ttdeci">KEY_VALOFFSET HBLvl3KeyValues[MAX_HB_LVL3_KEYS]</div><div class="ttdoc">To be used in the hierarchy while parsing. </div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00012">json_hb.c:12</a></div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html">HB_STRUCT</a></div><div class="ttdoc">This structure will be used when heartbeat repsonse will be parsed by the device. The device will par...</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00053">json_hb.h:53</a></div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html">HB_METHODS</a></div><div class="ttdoc">This structure will be used when heartbeat repsonse will be parsed by the device. The device will par...</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00036">json_hb.h:36</a></div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html_a1fcaa448bf6bb5512a025342da173192"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html#a1fcaa448bf6bb5512a025342da173192">HB_STRUCT::ScsTime</a></div><div class="ttdeci">unsigned long ScsTime</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00056">json_hb.h:56</a></div></div>
<div class="ttc" id="common_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div><div class="ttdoc">Header file for common macros and defines. </div></div>
<div class="ttc" id="struct_h_b___m_e_t_h_o_d_s_html_a2fa47dba5d4449955e6c7141c14e1805"><div class="ttname"><a href="struct_h_b___m_e_t_h_o_d_s.html#a2fa47dba5d4449955e6c7141c14e1805">HB_METHODS::Action</a></div><div class="ttdeci">unsigned char Action</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00045">json_hb.h:45</a></div></div>
<div class="ttc" id="struct_h_b___s_t_r_u_c_t_html_ae4208cae4976062401cb93ce98bf99dc"><div class="ttname"><a href="struct_h_b___s_t_r_u_c_t.html#ae4208cae4976062401cb93ce98bf99dc">HB_STRUCT::ScheduleHash</a></div><div class="ttdeci">unsigned char ScheduleHash[MAX_SCHEDULE_HASH_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8h_source.html#l00057">json_hb.h:57</a></div></div>
<div class="ttc" id="json__hb_8c_html_ac61dafe790074a34935b47f95c0474cf"><div class="ttname"><a href="json__hb_8c.html#ac61dafe790074a34935b47f95c0474cf">MAX_HB_LVL2_KEYS</a></div><div class="ttdeci">#define MAX_HB_LVL2_KEYS</div><div class="ttdef"><b>Definition:</b> <a href="json__hb_8c_source.html#l00008">json_hb.c:8</a></div></div>
<div class="ttc" id="common_8h_html_a378e28bfcb78d17285210d6bbb70a083"><div class="ttname"><a href="common_8h.html#a378e28bfcb78d17285210d6bbb70a083">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00134">common.h:134</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="json__hb_8c.html">json_hb.c</a></li>
    <li class="footer">Generated on Thu Jun 12 2014 20:35:58 for SiteSync Stage-1 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
